// 백준 14620 : 꽃길
#include <vector>
#include <string>
#include <iostream>

using namespace std;

int n;
int map[10][10];
bool chk[10][10];
int ans = 3000;
int dx[5] = { 0, 1, -1, 0, 0 };
int dy[5] = { 0, 0, 0, 1, -1 };

void select(int y, int x, int cost, int cnt) {
	// 세 씨앗이 모두 핀 경우
	if (cnt == 3) {
		ans = ans > cost? cost : ans;
		return;
	}

	// 꽃이 필 수 있는지 확인
	for (int i = 0; i < 5; i++) {
		int flowerY = y + dy[i];
		int flowerX = x + dx[i];

		if (chk[flowerY][flowerX]) return;
	}

	// 씨앗을 심는다.
	for (int i = 0; i < 5; i++) {
		int flowerY = y + dy[i];
		int flowerX = x + dx[i];

		cost += map[flowerY][flowerX];
		chk[flowerY][flowerX] = true;
	}
	cnt++;

	// 다음 씨앗을 심을 위치를 알아봄
	for (int i = 1; i < n - 1; i++) {
		for (int j = 1; j < n - 1; j++) {
			select(i, j, cost, cnt);
		}
	}

	// chk배열 원상복구
	for (int i = 0; i < 5; i++) {
		int flowerY = y + dy[i];
		int flowerX = x + dx[i];

		chk[flowerY][flowerX] = false;
	}
}

int main() {
	// 입력받음
	cin >> n;
	for (int i = 0; i < n; i++) {
		for (int j = 0; j < n; j++){
			cin >> map[i][j];
		}
	}

	// 완전탐색
	for (int i = 1; i < n - 1; i++) {
		for (int j = 1; j < n - 1; j++) {
			select(i, j, 0, 0);
		}
	}

	// 답안출력
	cout << ans << '\n';
}